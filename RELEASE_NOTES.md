# Changelog zmian â€“ `## 2.0.0 (2025-07-17)`

> Info: ðŸ”§ zmienione â€¢ âž• dodane â€¢ âž– usuniÄ™te

---

## 1. ksef-client

### 1.1 api.services

- **DefaultCertificateGenerator.java**: ðŸ”§ metodÄ™ `generateSelfSignedCertificate` zastÄ…piono
  dwoma `generateSelfSignedCertificateRsa` i `generateSelfSignedCertificateEcdsa`
- **DefaultCryptographyService.java**: ðŸ”§ wprowadzono zmiany w pobieraniu kluczy w konstruktorze; dodano dwie pomocnocze metody `parsePublicKeyFromPem`
  i `parsePrivateKeyFromPem`; dodano `encryptWithECDsaUsingPublicKey(byte[] content)` â€” domyÅ›lna metoda szyfrowania
  ECIES (ECDH + AES-GCM) na krzywej P-256.
- **DefaultKsefClient.java**: ðŸ”§ zmieniono nazwÄ™ metody z `batchOpen` na `openBatchSession`; do metody `sendBatchParts`
  dodano nagÅ‚owek `Content-Type`; zmieniono sygnaturÄ™ metody `submitAuthTokenRequest` - dodano
  parametr `boolean verifyCertificateChain` i zmieniono `body` na `signedXml`; zmieniono nazwÄ™ metody `operations`
  na `permissionOperationStatus`; zmieniono nazwÄ™ metody `getInvoiceMetadane` na `queryInvoices`; dodano
  metody `getSessions`, `getActiveSessions`, `revokeCurrentSession`, `revokeSession`, `retrievePublicKeyCertificate`;
  dodano parametr `continuationToken` do
  metody `AuthenticationListResponse getActiveSessions(Integer pageSize, String continuationToken)`  
  dodano parametr `continuationToken` do
  metody `SessionInvoicesResponse getSessionFailedInvoices(String referenceNumber, String continuationToken, Integer pageSize)`
- **DefaultQrCodeService.java**: âž• nowa usÅ‚uga do generowania QrCodes
- **DefaultVerificationLinkService.java**: âž• nowa usÅ‚uga generowania linkÃ³w do weryfikacji faktury

### 1.2 api.client.interfaces

- **CertificateGenerator.java**: ðŸ”§ zmiany zgodnie z implementacja w `DefaultCertificateGenerator.java`
- **CryptographyService.java**: ðŸ”§ zmiany zgodnie z implementacja w `DefaultCryptographyService.java`
- **KSeFClient.java**: ðŸ”§ dodanie opisÃ³w do metod; zmiany zgodnie z implementacja w `DefaultKsefClient.java`
- **QrCodeService.java**: âž• nowy interfejs do generowania QRcodes zgodnie z implementacjÄ… w `DefaultQrCodeService.java`
- **VerificationLinkService.java**: âž• nowy interfejs do tworzenia linkÃ³w weryfikacyjnych do faktury zgodnie z
  implementacjÄ… w `DefaultVerificationLinkService.java`

### 1.3 api.client.model

- **AuthenticationChallengeResponse.java**: ðŸ”§ zmiany typu pola `timestamp` z `OffsetDateTime` na `Instant`
- **EntityAuthorizationGrant.java**: ðŸ”§ dodanie pola `String id` i zmiana typu pola `authorizationScope` z `String`
  na `EntityAuthorizationScope`
- **EuEntityPermission.java**: ðŸ”§ dodanie pola `String id`, zmiana pola `permissionType` na `permissionScope`
- **PersonPermission.java**: ðŸ”§ dodanie pola `String id`
- **SubunitPermission.java**: ðŸ”§ dodanie pola `String id` i usuniÄ™cie pola `canDelegate`
- **QrCodeResult.java**: âž• nowa klasa
- **ContextIdentifierType.java**: âž• nowa klasa w pakiecie qrcode
- **AuthenticationListResponse.java**: âž• nowa klasa
- **AuthenticationMethod.java**: âž• nowa klasa
- **AuthenticationOperationStatusResponse.java**: âž• nowa klasa
- **CommonSessionStatus.java**: âž• nowa klasa
- **SessionInvoice.java**: ðŸ”§ dodanie pola `String invoiceFileName`
- **SessionsQueryRequest.java**: âž• nowa klasa
- **SessionsQueryResponse.java**: âž• nowa klasa
- **SessionsQueryResponseItem.java**: âž• nowa klasa
- **SessionType.java**: âž• nowa klasa
- **ApiException.java**: ðŸ”§ dodanie metody `getApiException`
- **EncryptionMethod.java**: âž• nowy enum
- **PersonPermissionQueryType.java**: âž• nowy enum
- **SystemCode.java**: âž• nowy enum
- **EntityAuthorizationScope.java**: âž• nowy enum
- **CertificateInfo.java**: ðŸ”§ usuniÄ™cie pola `thumbprint`
- **PersonPermissionsQueryRequest**: ðŸ”§ dodanie pola `PersonPermissionQueryType queryType`

### 1.4 api.builders

- **PersonPermissionsQueryRequestBuilder.java**: ðŸ”§ dodanie pola `PersonPermissionQueryType queryType`
- **OpenBatchSessionRequestBuilder.java**: ðŸ”§ z `withBatchFile` usuniÄ™cie parametru `boolean offlineMode` i wydzielenie
  do osobnej metody `withOfflineMode(boolean offlineMode)` oraz zmiana typu przyjmowanego argumentu
  metody `withFormCode` z `String` na `SystemCode`

---

## 2. demo-web-app

### 2.1 integrationTest

- WspÃ³lne: ðŸ”§ `Thread.Sleep` â†’ `org.awaitility.Awaitility.await`;
- **EntityPermissionIntegrationTest.java**: ðŸ”§ zmiany w scenariuszu testowym
- **EuEntityPermissionIntegrationTest.java**: ðŸ”§ zmiany w scenariuszu testowym
- **EuEntityRepresentativeE2EPermissionTest.java**: ðŸ”§ zmiany w scenariuszu testowym
- **IndirectPermissionIntegrationTest.java**: ðŸ”§ zmiany w scenariuszu testowym
- **PersonPermissionIntegrationTest.java**: ðŸ”§ zmiany w scenariuszu testowym
- **ProxyPermissionIntegrationTest.java**: ðŸ”§ zmiany w scenariuszu testowym
- **SubUnitPermissionIntegrationTest.java**: ðŸ”§ zmiany w scenariuszu testowym
- **OnlineSessionV2E2EIntegrationTest.java**: ðŸ”§ zmiany w scenariuszu testowym oraz dodano testy end-to-end dla faktury w
  wersji 3

- âž– usuniÄ™to `publicKey.pem` z resources
- âž• dodano klasÄ™ testowÄ… `SessionIntegrationTest.java`
- âž• dodano plik `invoice-template_v3.xml` zawierajÄ…cy przykÅ‚adowÄ… fakturÄ™ w wersji 3
-
- **AuthorizationIntegrationTest.java**: dodano testy end-to-end dla tokenu w wariantach `ECDsa` i `Rsa`.

### 2.2 api

- âž• dodano usÅ‚ugi w `ActiveSessionController.java` ktÃ³re wywoÅ‚ujÄ… bezpoÅ›rednio klienta ksef.
- **AuthController.java**: âž• `POST auth-with-ksef-certificate`
- **QrCodeController.java**: âž•`POST /qr/certificate` âž•`GET /qr/invoice/ksef` âž•`GET /qr/invoice/offline`
- âž– usuniÄ™to `publicKey.pem` z resources

### 2.3 test - api.services

- âž• dodano `QrCodeTests.java`
- âž• dodano `VerificationLinkServiceTests.java`

---

## 3. .http

- ðŸ”§ do `auth.http` dodano wywoÅ‚anie usÅ‚ugi `POST auth-with-ksef-certificate`
- âž• w `qr-code.http` dodano wywoÅ‚anie usÅ‚ug âž•`POST /qr/certificate` âž•`GET /qr/invoice/ksef` âž•`GET /qr/invoice/offline`
- ðŸ”§ w `searchPermissions.http` zaktualizowano payload
- ðŸ”§ w `session.http` dodano wywoÅ‚anie usÅ‚ug âž• `POST /session/query/` âž• `POST /session/active/{pageSize}`
  âž• `DELETE /session/revoke/current` âž• `DELETE /session/revoke/{sessionReferenceNumber}`
- ðŸ”§ w `subunit-subject-permission.http` zaktualizowano payload
- âž– usuniÄ™to `scenario/BatchSession_E2E_WorksCorrectly.http`

---

## 4. Podsumowanie

| Typ zmiany   | Liczba plikÃ³w |
|--------------|---------------|
| âž• dodane     | 30            |
| ðŸ”§ zmienione | 80            |
| âž– usuniÄ™te   | 3             |

---------------------------------------------------------------------------------------------------------------------------------


# Changelog zmian â€“ `## 2.0.1 (2025-09-02)`

---
## 
-- **LICENSE.md**: âž• dodano licencjÄ™

## 1. ksef-client
- **PublicKeyEnvironmentApi**: âž– usuniÄ™to klasÄ™

### 1.1 api.services

- **DefaultCryptographyService.java**: ðŸ”§ wprowadzono zmiany w pobieraniu kluczy w konstruktorze; wydzielono/dodano metody do szyfrowania tokenu ksef 
- **DefaultKsefClient.java**: ðŸ”§ zmieniono nazwÄ™ metody z `queryInvoices` na `queryInvoiceMetadata`; usuniÄ™cie metody `byte[] getPublicKey()`; uwspÃ³lnienie zwracanych typÃ³w - zmiana z `String` na `byte[]` dla `byte[] getInvoice(String ksefReferenceNumber)` i `byte[] getInvoice(DownloadInvoiceRequest request)` 

### 1.2 api.client.interfaces
- **KSeFClient.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **KsefEnviroments.java**: âž• usuniÄ™to klasÄ™
- **CryptographyService.java**: ðŸ”§ zmiany zgodnie z implementacjÄ… w `DefaultCryptographyService.java`

### 1.3 api.client.model

- **InvoiceMetadata.java**: ðŸ”§ dodanie pola `issueDate`, zmiana nazwwy pola z `invoiceDate` na `invoicingDate` i zmiana typu pola `currency` z `CurrencyCode`
  na `String`
- **InvoiceMetadataInvoiceType.java**: ðŸ”§ Zmiana wartoÅ›ci enumÃ³w
- **InvoiceMetadataQueryRequest.java**: ðŸ”§ zmiana nazwy z `InvoicesQueryRequest`
- **InvoiceQueryAmount.java**: ðŸ”§ zmiana nazwy z `InvoicesAsynqQueryRequestAmount `
- **InvoiceQueryBuyer.java**: ðŸ”§ zmiana nazwy z `InvoicesAsynqQueryRequestBuyer `
- **InvoiceQuerySeller.java**: ðŸ”§ zmiana nazwy z `InvoicesAsynqQueryRequestSeller`
- **QueryInvoiceMetadataReponse.java**: ðŸ”§ zmiana nazwy z `QueryInvoicesReponse`
- **InvoiceQueryDateType.java**: ðŸ”§ Zmiana enuma z `ACQUSITION` na  `ACQUISITION`
- **BaseStatusInfo**: âž– usuniÄ™to nieuÅ¼ywanÄ… klasÄ™
- **AuthStatus **: âž– usuniÄ™to nieuÅ¼ywanÄ… klasÄ™
- **InvoiceQuerySystemCode.java **: âž• dodano klasÄ™ wedÅ‚ug kontraktu
- **InvoiceMetadataQueryRequest.java**: ðŸ”§ dodanie pÃ³l `systemCode` i `hasAttachment`
- **InvoicesAsynqQueryRequest.java**: ðŸ”§ dodanie pola `hasAttachment` i zmiana `formCode` na `systemCode`
- **InvoiceQueryDocumentStructure.java**: ðŸ”§ zmiana nazwy z `InvoiceQuerySystemCode` oraz dodanie wartoÅ›ci `FA1`
- **InvoiceMetadata.java**: ðŸ”§ dodanie pola `hasAttachment`
- **InvoiceMetadataQueryRequest.java**: ðŸ”§ zmiana nazwy pola z `systemCode` na `documentStructure`
- **InvoicesAsynqQueryRequest.java**: ðŸ”§ zmiana nazwy pola z `systemCode` na `documentStructure`
- **OpenOnlineSessionResponse.java**: ðŸ”§ dodanie pola `validUntil`
- **SessionsQueryResponseItem.java**: ðŸ”§ dodanie pola `validUntil`
- **SessionStatusResponse.java**: ðŸ”§ dodanie pola `validUntil`
- **Headers.java**: âž• dodanie klasy zawierajÄ…cej uÅ¼ywane nagÅ‚Ã³wki
- **PublicKeyCertificate.java**: âž• zmiana pola z `certificatePem` na `certificate`
- **Parameter.java**: âž• dodanie klasy zawierajÄ…cej uÅ¼ywane w kliencie parametry zapytaÅ„
- **ApiClient.java**: âž– usuniÄ™to klasÄ™
- **HttpApiClient.java**: âž• dodanie klasy zawierajÄ…cej konfigurowalnego klienta http
- **CertificateType.java**: âž• dodanie enuma
- **CertificateInfo.java**: âž• dodanie pola `CertificateType type`
- **CertificateResponse.java**: âž• dodanie pola `CertificateType certificateType`
- **SendCertificateEnrollmentRequest.java**: âž• dodanie pola `CertificateType certificateType`
- **QueryInvoiceMetadataResponse.java**: âž• dodanie pola `Boolean hasMore`
- **SessionInvoicesResponse.java**: âž• dodanie pola `Boolean hasMore`

### 1.4 api.builders
- **InvoiceMetadataQueryRequestBuilder.java**: ðŸ”§ zmiana nazwy z `InvoicesQueryRequestBuilder`
- **InvoiceMetadataQueryRequestBuilder.java**: ðŸ”§ usuniÄ™cie pola `isHidden` i dodanie `hasAttachment`
- **InvoiceMetadataQueryRequestBuilder.java**: ðŸ”§ zmiana pola z `formCode` na `systemCode`
- **InvoicesAsynqQueryRequestBuilder.java**: ðŸ”§ zmiana nazwy pola z `systemCode` na `documentStructure`
- **AuthTokenRequestBuilder.java**: ðŸ”§zmiana typu pola `context` z `ContextIdentifier` na `TContextIdentifier`
- **UrlQueryParamsBuilder.java**: âž• dodanie klasy obsÅ‚ugujÄ…cej tworzenie zapytaÅ„
- **SendCertificateEnrollmentRequestBuilder.java**: âž• dodanie pola `certificateType`
- 
### 1.5 api
- **BaseApi.java**: âž– usuniÄ™to klasÄ™
- **ActiveSessionApi.**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **AuthenticationApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy obsÅ‚ugÄ™ wielu wÄ…tkÃ³w
- **BatchInvoiceApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **CertificateApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **DownloadInvoiceApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **EuSubjectAdministratorApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **EuSubjectRepresentationApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **ForAuthorizedSubjectApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **EGrantDirectlyApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **NaturalPersonKseFApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **OperationApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **PublicKeyCertificateApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **SearchPermissionApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **SendStatusAndUpoApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **SubjectForInvoiceApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **SubUnitSubjectAdministratorApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **TokensApi.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡

### 1.6  resources 
- **AuthTokenRequest.xsd**: ðŸ”§ aktualizacja pliku AuthTokenRequest.xsd

## 2. demo-web-app

### 2.1 integrationTest

- **OnlineSessionIntegrationTest.java**: ðŸ”§ aktualizacja scenariusza testowego oraz refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **QueryInvoiceIntegrationTest.java**: dodano nowÄ… klasÄ™ testowÄ…
- **AuthorizationIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **BaseIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **BatchIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **CertificateIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **EntityPermissionIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **EuEntityPermissionIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **EuEntityRepresentativeE2EPermissionTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **IndirectPermissionIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **OnlineSessionIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **PersonPermissionIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **ProxyPermissionIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **QueryInvoiceIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **SessionIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **SubUnitPermissionIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta
- **TokensIntegrationTest.java**: ðŸ”§ refactor klasy zgodnie z nowÄ… konfiguracjÄ… klienta

### 2.2 api
- **TokensController.java**: ðŸ”§ refactor refactor zgodnie z nowÄ… implementacja klienta
- **SubUnitPermissionsController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **SessionController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **SearchPermissionTestEndpoint.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **ProxyPermissionsEntityController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **PersonPermissionController.java**: ðŸ”§ refactor klasy umoÅ¼liwiajÄ…cy wielowÄ…tkowoÅ›Ä‡
- **OperationStatusController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **OnlineSessionController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **InvoicesController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **IndirectPermissionsEntityController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **EuEntityRepresentativePermissionsController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **EuEntityPermissionsController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **EntityPermissionsController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **CertificateController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **BatchSessionController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **AuthController.java**: ðŸ”§ refactor zgodnie z nowÄ… implementacja klienta
- **KsefClientConfig.java**: ðŸ”§ zmiana konfiguracji zgodnie z nowÄ… implementacja klienta

### 2.3 test - api.services


---

## 3. .http


## 4. Podsumowanie

| Typ zmiany  | Liczba plikÃ³w |
|-------------|---------------|
| âž• dodane    | 22           |
| ðŸ”§ zmienione | 112          |
| âž– usuniÄ™te  | 12           |

---
# Changelog zmian â€“ `## 3.0.0 (2025-09-26)`

## 1. ksef-client

### 1.1 api.builders
- **AuthTokenRequestBuilder.java**: ðŸ”§ usuniÄ™cie nadmiarowego sprawdzania 
- **CertificateBuilders.java**: ðŸ”§ refaktory klasy 
- **RevokeCertificateRequestBuilder.java**: ðŸ”§ zmiana nazwy na `CertificateRevokeRequestBuilder.java` i zmiana var na konkretny typ (strong-type)
- **SendCertificateEnrollmentRequestBuilder.java**: ðŸ”§ dodanie `CertificateType certificateType`
- **GrantEUEntityPermissionsRequestBuilder.java**: ðŸ”§ dodanie `String subjectName`
- **GrantIndirectEntityPermissionsRequestBuilder.java**: ðŸ”§ zmiana typu `IndirectPermissionsGrantRequest` na `GrantIndirectEntityPermissionsRequest`
- **GrantProxyEntityPermissionsRequestBuilder.java**: ðŸ”§ zmiana nazwy na `GrantAuthorizationPermissionsRequestBuilder.java`, zmiana typu `GrantProxyEntityPermissionsRequest` na `GrantAuthorizationPermissionsRequest`
- **SendInvoiceRequestBuilder.java**: ðŸ”§ zmiana nazwy na `SendInvoiceOnlineSessionRequestBuilder.java`, zmiana typu `SendInvoiceRequest` na `SendInvoiceOnlineSessionRequest`
- **GenerateTokenRequestBuilder.java**: ðŸ”§ zmiana nazwy na `KsefTokenRequestBuilder.java`, zmiana typu `GenerateTokenRequest` na `KsefTokenRequest`
- **InvoicesAsyncQueryRequestBuilder.java**: ðŸ”§ zmiana nazwy na `InvoicesAsyncQueryFiltersBuilder.java`, dodanie pola `Boolean hasAttachment`, zmiana `InvoiceQuerySchemaType schemaType` na `InvoiceMetadataSchema formType` 

### 1.2 api.services
- **DefaultCertificateGenerator.java**: ðŸ”§ zmiana nazwy na `DefaultCertificateService`, dodanie implementacji metod `String getSha256Fingerprint(X509Certificate certificate)`, `SelfSignedCertificate getPersonalCertificate(String givenName, String surname, String serialNumberPrefix, String serialNumber, String commonName)`, `SelfSignedCertificate getCompanySeal(String organizationName, String organizationIdentifier, String commonName)`
- **DefaultCryptographyService.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, dodanie metod `CsrResult generateCsrWithEcdsa(CertificateEnrollmentsInfoResponse certificateInfo)`
- **DefaultQrCodeService.java**: ðŸ”§ dodanie parametru `String fontName` do metody `addLabelToQrCode`, obsÅ‚uga wyjÄ…tkÃ³w
- **DefaultVerificationLinkService.java**: ðŸ”§ obsÅ‚uga wyjÄ…tkÃ³w
- **DefaultKsefClient.java**: ðŸ”§ przeniesienie do pakietu wyÅ¼ej

### 1.3 api
- **DefaultKsefClient.java**: ðŸ”§ przeniesienie do gÅ‚ownego pakietu api, refaktoryzacja klienta, aktualizacja typÃ³w zgodnie ze zmianami w modelu api
- **HttpStatus.java**: âž• dodano klase zawierajÄ…cÄ… uÅ¼ywane statusy HTTP
- **HttpUtils.java**: âž• dodano klase pomocniczÄ…
- **KsefApiProperties.java**: âž• dodano klase z konfiguracjÄ…
- **Url.java.**: ðŸ”§ zmiana adresu usÅ‚ugi z `INVOICE_QUERY_STATUS("/api/v2/invoices/async-query/{operationReferenceNumber}"` na `INVOICE_EXPORT_STATUS("/api/v2/invoices/exports/{operationReferenceNumber}"`
- **ActiveSessionApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **AuthenticationApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **BatchInvoiceApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **CertificateApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **DownloadInvoiceApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **EuSubjectAdministratorApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **EuSubjectRepresentationApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **ForAuthorizedSubjectApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **GrantDirectlyApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **InteractiveSessionApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **NaturalPersonKseFApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **OperationApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **PublicKeyCertificateApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **SearchPermissionApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **SendStatusAndUpoApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **SubjectForInvoiceApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **SubUnitSubjectAdministratorApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **TokensApi.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`
- **UrlQueryParamsBuilder.java**: âž– usuniÄ™cie klasy, przeniesienie metod do `DefaultKsefClient.java`

### 1.4 client.interfaces
- **CertificateGenerator.java**: ðŸ”§ zmiana nazwy na `CertificateService`, dodanie metod `String getSha256Fingerprint(X509Certificate certificate)`, `SelfSignedCertificate getPersonalCertificate(String givenName, String surname, String serialNumberPrefix, String serialNumber, String commonName)`, `SelfSignedCertificate getCompanySeal(String organizationName, String organizationIdentifier, String commonName)`
- **CryptographyService.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, dodanie metod `CsrResult generateCsrWithEcdsa(CertificateEnrollmentsInfoResponse certificateInfo)`
- **QrCodeService.java**: ðŸ”§ dodanie parametru `String fontName` do metody `addLabelToQrCode`, obsÅ‚uga wyjÄ…tkÃ³w
- **VerificationLinkService.java**: ðŸ”§ obsÅ‚uga wyjÄ…tkÃ³w
- **KSeFClient.java**: ðŸ”§ refaktoryzacja nazw parametrÃ³w, aktualizacja typÃ³w zgodnie ze zmianami w modelu api

### 1.5 client.model
- **auth.AuthenticationOperationStatusResponse.java**: ðŸ”§ zmieniono nazwÄ™ klasy na `AuthOperationStatusResponse .java`
- **AuthStatus.java**: âž• dodano klasÄ™
- **GenerateTokenRequest.java**: ðŸ”§ zmieniono nazwÄ™ klasy na `KsefTokenRequest.java`
- **AuthenticationInitResponse.java**: ðŸ”§ zmieniono nazwÄ™ klasy na `SignatureResponse.java`
- **CertificateInfo.java**: ðŸ”§ dodano parametr `CertificateType type`
- **CertificateResponse.java**: ðŸ”§ dodano parametr `CertificateType type`
- **CertificateType.java**: âž• dodano enuma
- **SendCertificateEnrollmentRequest.java**: ðŸ”§ dodano parametr `CertificateType type`
- **AsyncInvoicesQueryStatus.java**: âž– usuniÄ™to klasÄ™
- **AuthorizedSubject.java**: âž• dodano klasÄ™
- **BuyerIdentifierType.java**: âž– usuniÄ™to klasÄ™
- **DownloadInvoiceBuyer.java**: ðŸ”§ zmieniono typ parametru z `BuyerIdentifierType identifierType` na `IdentifierType identifierType`
- **IdentifierType.java**: âž• dodano klasÄ™
- **InvoiceMetadataQueryRequest.java**: ðŸ”§ zmieniono nazwÄ™ klasy na `InvoiceExportFilters.java`
- **InvoiceExportPackage.java**: âž• dodano klasÄ™
- **InvoiceExportRequest.java**: âž• dodano klasÄ™
- **InvoiceExportStatus.java**: âž• dodano klasÄ™
- **InvoiceMetadata.java**: âž– usuniÄ™to klasÄ™
- **InvoiceMetadataBuyer.java**: ðŸ”§ zmieniono `BuyerIdentifierType identifierType` na `IdentifierType identifierType`
- **InvoiceMetadataSeller .java**: ðŸ”§ dodano pole `String nip`
- **InvoicePackagePart .java**: ðŸ”§ dodano nowe pola
- **InvoiceQueryBuyer.java**: ðŸ”§ zmieniono `BuyerIdentifierType identifierType` na `IdentifierType identifierType`
- **InvoicesAsyncQueryRequest.java**: ðŸ”§ zmieniono nazwÄ™ klasy na `InvoiceSummary.java`, dodano dodatkowe pola
- **QueryInvoiceMetadataResponse.java**: ðŸ”§ dodano pola klasy `Boolean hasMore; List<InvoiceSummary> invoices` usuniÄ™to `List<InvoiceMetadata> invoices`
- **ThirdSubject.java**: âž• dodano klasÄ™
- **EuEntityPermissionsGrantRequest.java**: ðŸ”§ dodano pole `String subjectName`
- **IndirectPermissionsGrantRequest.java**: ðŸ”§ zmieniono nazwÄ™ klasy na `GrantIndirectEntityPermissionsRequest.java`
- **GrantProxyEntityPermissionsRequest.java**: ðŸ”§ zmieniono nazwÄ™ klasy na `GrantAuthorizationPermissionsRequest.java`
- **PermissionsOperationResponse.java**: ðŸ”§ zmieniono nazwÄ™ klasy na `OperationResponse.java`
- **SendInvoiceRequest.java**: ðŸ”§ zmieniono nazwÄ™ klasy na `SendInvoiceOnlineSessionRequest.java`
- **session.AuthenticationOperationStatusResponse.java**: ðŸ”§ zmieniono nazwÄ™ klasy na `AuthenticationListItem.java`
- **AuthenticationListResponse.java**: ðŸ”§ zmieniono typ pola `List<AuthenticationOperationStatusResponse> items` na `List<AuthenticationListItem> items`
- **SessionInvoicesResponse.java**: ðŸ”§ dodano pole `Boolean hasMore`
- **SessionInvoiceStatusResponse.java**: ðŸ”§ dodano pola `OffsetDateTime permanentStorageDate; String upoDownloadUrl;`

### 1.6 client
- **Headers.java**: ðŸ”§ dodano staÅ‚e dla nagÅ‚Ã³wkÃ³w
- **HttpApiClient.java**: âž– usuniÄ™to klasÄ™

### 1.7 system
- **KSeFNumberValidator.java**: âž– usuniÄ™to klasÄ™


## 2. demo-web-app

### 2.1 integrationTest
- **BaseIntegrationTest.java**: ðŸ”§ dodanie przeciÄ…Å¼onej metody `authWithCustomNip` w ktÃ³rej subject przekazujemy w formie certyfikatÃ³w
- **AuthorizationIntegrationTest.java**: ðŸ”§ aktualizacja scenariusza testowego
- **BatchIntegrationTest.java**: ðŸ”§ aktualizacja scenariusza testowego, aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **CertificateIntegrationTest.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **EntityPermissionIntegrationTest.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **EuEntityPermissionIntegrationTest.java**: ðŸ”§ aktualizacja scenariusza testowego, aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **EuEntityRepresentativeE2EPermissionTest.java**: ðŸ”§ rename na `EuEntityRepresentativePermissionIntegrationTest.java`, aktualizacja scenariusza testowego, aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **IndirectPermissionIntegrationTest.java**: ðŸ”§ aktualizacja scenariusza testowego, aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **TokensIntegrationTest.java**: ðŸ”§ rename na `KsefTokenIntegrationTest.java`, aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **OnlineSessionIntegrationTest.java**: ðŸ”§ aktualizacja scenariusza testowego, aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **PersonPermissionIntegrationTest.java**: ðŸ”§ aktualizacja scenariusza testowego, aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **ProxyPermissionIntegrationTest.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **QrCodeOfflineIntegrationTest.java**: âž• dodano klasÄ™ zawierajÄ…cÄ… scenariusze testowe z kodami qr do fv offline
- **QrCodeOnlineIntegrationTest.java**: âž• dodano klasÄ™ zawierajÄ…cÄ… scenariusze testowe z kodami qr do fv online
- **QueryInvoiceIntegrationTest.java**: ðŸ”§ aktualizacja scenariusza testowego, aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **SessionIntegrationTest.java**: ðŸ”§ aktualizacja scenariusza testowego, aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **SubUnitPermissionIntegrationTest.java**: ðŸ”§ aktualizacja scenariusza testowego, aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- 
### 2.1.1 integrationTest.resources
- **invoice-template_v3.xml**: ðŸ”§ - dodanie placeholdera do pola p_1 na fakturze
- **invoice-template.xml**: ðŸ”§ - dodanie placeholdera do pola p_1 na fakturze

### 2.2 api
- **ActiveSessionController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **AuthController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych, dodanie usÅ‚ugi `GET prepare-sample-cert-auth-request` przygotowujÄ…cÄ… testowe dane do usÅ‚ugi `POST auth-with-ksef-certificate`
- **BatchSessionController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **CertificateController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **EntityPermissionsController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **EuEntityPermissionsController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **IndirectPermissionsEntityController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **InvoicesController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych, zmiany typÃ³w zmiennych wynikajacych z aktualizacji modelu api
- **OnlineSessionController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **OperationStatusController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **PersonPermissionController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **ProxyPermissionsEntityController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **QrCodeController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **SearchPermissionTestEndpoint.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **SessionController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych, uÅ¼ycie `response.getContinuationToken()` przy pobieraniu fv/statusÃ³w w sesji
- **SubUnitPermissionsController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych
- **TokensController.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF, zmiany w nazwenictwie zmiennych, uÅ¼ycie `response.getContinuationToken()` przy pobieraniu tokenÃ³w
- **StatusWaitingException.java**: âž• dodano klasÄ™
- **ExampleApiProperties.java**: âž• dodano klasÄ™
- **HttpClientBuilder.java**: âž• dodano klasÄ™
- **IdentifierGeneratorUtils.java**: âž• dodano testowÄ… klasÄ™ do generowania identyfikatorÃ³w (np. nip, pesel)
- **KsefClientConfig.java**: ðŸ”§ zmiana konfiguracji zgodnie z nowÄ… implementacja klienta

### 2.2.1 resources
- **invoice-template.xml**: ðŸ”§ - dodanie placeholdera do pola p_1 na fakturze

### 2.3 test - api.services
- **QrCodeTests.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF
- **VerificationLinkServiceTests.java**: ðŸ”§ aktualizacja zwiÄ…zana z refaktorem serwisÃ³w i kliena KSeF


## 3. .http
- ðŸ”§ do `auth.http` dodano wywoÅ‚anie usÅ‚ugi `GET prepare-sample-cert-auth-request` przygotowujÄ…cÄ… testowe dane do usÅ‚ugi `POST auth-with-ksef-certificate`

## 4. Podsumowanie

| Typ zmiany  | Liczba plikÃ³w |
|-------------|---------------|
| âž• dodane    | 25            |
| ðŸ”§ zmienione | 75            |
| âž– usuniÄ™te  | 31            |

---